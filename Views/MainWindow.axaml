<Window xmlns="https://github.com/avaloniaui"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:vm="using:VManager.ViewModels"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
            xmlns:views="clr-namespace:VManager.Views"
            mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
            x:Class="VManager.Views.MainWindow"
            x:DataType="vm:MainWindowViewModel"
            Icon="/Assets/avalonia-logo.ico"
            Title="VManager v1.2.8"
            MinWidth="390" MinHeight="140"
            Width="1280" Height="800"
            Background="{DynamicResource WindowBackgroundBrush}">

        <Design.DataContext>
            <vm:MainWindowViewModel/>
        </Design.DataContext>
    <Grid>        
        <DockPanel Margin="0,0,0,0">
         
            <Grid DockPanel.Dock="Top" Margin="20,20,20,0" ColumnDefinitions="Auto Auto * Auto">
                
                <!-- Herramienta 1 - VCut con ícono de tijeras -->
                <ToggleButton Grid.Column="0"
                              IsChecked="{Binding Herramienta1Activa}"
                              Command="{Binding GoToHerramienta1}"
                              HotKey="F1"
                          Margin="0,0,10,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <PathIcon Width="18"
                                  Height="18"
                                  VerticalAlignment="Center"
                                  Data="M12.1409 9.34138L12.14 9.34274L7.37017 2.32828C7.13725 1.98575 6.67077 1.8969 6.32824 2.12982C5.98572 2.36273 5.89687 2.82922 6.12978 3.17174L11.2606 10.7169L8.86478 14.4604C8.30797 14.1664 7.67342 14 7 14C4.79086 14 3 15.7909 3 18C3 20.2091 4.79086 22 7 22C9.20914 22 11 20.2091 11 18C11 17.0088 10.6395 16.1018 10.0424 15.403L12.178 12.0661L14.2426 15.1023C13.4771 15.8309 13 16.8597 13 18C13 20.2091 14.7909 22 17 22C19.2091 22 21 20.2091 21 18C21 15.7909 19.2091 14 17 14C16.471 14 15.9659 14.1027 15.5037 14.2893L13.0575 10.6919L13.0588 10.6899L12.1409 9.34138ZM4.5 18C4.5 16.6193 5.61929 15.5 7 15.5C8.38071 15.5 9.5 16.6193 9.5 18C9.5 19.3807 8.38071 20.5 7 20.5C5.61929 20.5 4.5 19.3807 4.5 18ZM14.5 18C14.5 16.6193 15.6193 15.5 17 15.5C18.3807 15.5 19.5 16.6193 19.5 18C19.5 19.3807 18.3807 20.5 17 20.5C15.6193 20.5 14.5 19.3807 14.5 18Z M13.9381 9.31594L17.8815 3.15426C18.1048 2.80538 18.003 2.34155 17.6541 2.11827C17.3053 1.89498 16.8414 1.9968 16.6181 2.34568L13.0202 7.96744L13.9381 9.31594Z"
                                  />
                        <TextBlock Text="VCut" Margin="5,0,0,0" VerticalAlignment="Center" />
                    </StackPanel>
                </ToggleButton>

                <!-- Herramienta 2 - VCompr con ícono de compresión -->
                <ToggleButton Grid.Column="1"
                              IsChecked="{Binding Herramienta2Activa}"
                              Command="{Binding GoToHerramienta2}"
                              HotKey="F2"
                              Margin="0,0,10,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <PathIcon Width="18"
                                  Height="18"
                                  VerticalAlignment="Center"
                                  Data="M9.49094 4.40235C9.1153 4.14129 8.66749 4 8.20693 4H4.25L4.09595 4.00519C2.92516 4.08436 2 5.05914 2 6.25V17.75L2.00519 17.904C2.08436 19.0748 3.05914 20 4.25 20H19.75L19.904 19.9948C21.0748 19.9156 22 18.9409 22 17.75V8.75L21.9948 8.59595L21.9785 8.43788C21.8266 7.34297 20.8867 6.5 19.75 6.5H12.022L9.64734 4.5215L9.49094 4.40235ZM13.4967 8V10.2451C13.4967 10.6593 13.8325 10.9951 14.2467 10.9951H14.9967V11.9976H14.7467C14.3325 11.9976 13.9967 12.3334 13.9967 12.7476C13.9967 13.1618 14.3325 13.4976 14.7467 13.4976H14.9967V14.9976H14.7467C14.3325 14.9976 13.9967 15.3334 13.9967 15.7476C13.9967 16.1618 14.3325 16.4976 14.7467 16.4976H14.9967V18.5H4.25L4.14823 18.4932C3.78215 18.4435 3.5 18.1297 3.5 17.75V10.499L8.20693 10.5L8.40335 10.4914C8.85906 10.4515 9.29353 10.2733 9.64734 9.9785L12.021 8H13.4967ZM16.4967 18.0004H16.7467C17.1609 18.0004 17.4967 17.6646 17.4967 17.2504C17.4967 16.8362 17.1609 16.5004 16.7467 16.5004H16.4967V15.0004H16.7467C17.1609 15.0004 17.4967 14.6646 17.4967 14.2504C17.4967 13.8362 17.1609 13.5004 16.7467 13.5004H16.4967V10.9951H17.2467C17.6609 10.9951 17.9967 10.6593 17.9967 10.2451V8H19.75L19.8518 8.00685C20.2178 8.05651 20.5 8.3703 20.5 8.75V17.75L20.4932 17.8518C20.4435 18.2178 20.1297 18.5 19.75 18.5H16.4967V18.0004ZM16.4967 8V9.49513L14.9967 9.49513V8H16.4967ZM4.25 5.5H8.20693L8.31129 5.5073C8.44893 5.52664 8.57923 5.58398 8.68706 5.67383L10.578 7.249L8.68706 8.82617L8.60221 8.88738C8.4841 8.96063 8.34729 9 8.20693 9L3.5 8.999V6.25L3.50685 6.14823C3.55651 5.78215 3.8703 5.5 4.25 5.5Z" />
                        <TextBlock Text="️VCompr" Margin="5,0,0,0" VerticalAlignment="Center" />
                    </StackPanel>
                </ToggleButton>
                
                <!-- Herramienta 3 - VConv con ícono de conversión -->
                <ToggleButton Grid.Column="2"
                              IsChecked="{Binding Herramienta3Activa}"
                              Command="{Binding GoToHerramienta3}"
                              HotKey="F3"
                              Margin="0,0,10,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <PathIcon Width="18"
                                  Height="18"
                                  VerticalAlignment="Center"
                                  Data="M4.27727 14.9681L4.4231 14.9197C5.01559 15.4476 5.75683 15.8121 6.57611 15.9424C4.70972 16.2626 3.5 16.6929 3.5 17C3.5 17.5268 7.06115 18.4165 11.3911 18.4945L11.941 18.5L11.2226 17.7799C10.9565 17.5134 10.9327 17.0967 11.1508 16.8033L11.2234 16.7192C11.4899 16.4532 11.9066 16.4293 12.2 16.6474L12.2841 16.7201L14.2808 18.7201C14.5465 18.9863 14.5707 19.4024 14.3532 19.6958L14.2808 19.7799L12.2841 21.7799C11.9915 22.073 11.5166 22.0734 11.2234 21.7808C10.957 21.5147 10.9324 21.0981 11.15 20.8043L11.2226 20.7201L11.9409 20C6.35187 19.9925 2 18.9272 2 17C2 16.1491 2.84847 15.4661 4.27727 14.9681ZM16.1992 14.2278L16.8152 14.3078C19.9315 14.7523 22 15.6713 22 17C22 18.3166 20.2566 19.1076 17.3791 19.5916C16.9706 19.6603 16.5838 19.3848 16.5151 18.9763C16.4464 18.5679 16.7218 18.181 17.1303 18.1123C18.2817 17.9187 19.2199 17.6635 19.8477 17.3787C20.3195 17.1646 20.5 16.992 20.5 17C20.5 16.5546 17.954 15.8497 14.55 15.5954C15.21 15.287 15.7773 14.8132 16.1992 14.2278ZM12.7491 2.99561C14.4764 2.99561 15.8889 4.34303 15.993 6.04409L18.9184 4.58301C19.417 4.3341 20.0033 4.69673 20.0033 5.25406V12.75C20.0033 13.3077 19.4164 13.6703 18.9177 13.4207L15.9924 11.9562C15.8838 13.6529 14.4733 14.9955 12.7491 14.9955H7.24927C5.45435 14.9955 3.99927 13.5404 3.99927 11.7455V6.24561C3.99927 4.45068 5.45435 2.99561 7.24927 2.99561H12.7491ZM12.7491 4.49561H7.24927C6.28277 4.49561 5.49927 5.27911 5.49927 6.24561V11.7455C5.49927 12.712 6.28277 13.4955 7.24927 13.4955H12.7491C13.7156 13.4955 14.4991 12.712 14.4991 11.7455V6.24561C14.4991 5.27911 13.7156 4.49561 12.7491 4.49561ZM18.5033 6.46669L15.9991 7.71673V10.2827L18.5033 11.536V6.46669Z" />
                        <TextBlock Text="VConv" Margin="5,0,0,0" VerticalAlignment="Center" />
                    </StackPanel>
                </ToggleButton>

                <!-- Cambiar tema -->
                <ToggleButton x:Name="ToggleTheme"
                              Grid.Column="3"
                              Theme="{DynamicResource ThemeToggleButton}"
                              Content="Cambiar Tema"
                              HotKey="T"
                              IsChecked="{Binding IsDarkTheme}"
                              Command="{Binding ToggleThemeCommand}"/>
            </Grid>
            
            <!-- Footer -->
            <Button DockPanel.Dock="Bottom" Content="Creado por Baltazar Franz ❤️" 
                    Command="{Binding OpenGitHubCommand}"
                    FontSize="14" HorizontalAlignment="Center" Margin="20,20,20,20" Opacity="0.7"
                    Background="Transparent" BorderBrush="Transparent" Cursor="Hand"/>
            
            <!-- Mensaje de bienvenida -->
            <TextBlock DockPanel.Dock="Top" FontWeight="Bold" Text="¡Bienvenido a VManager!" 
                       FontSize="25" Margin="0,30,0,0"
                       HorizontalAlignment="Center"
                       Foreground="{DynamicResource AccentBrush}"
                       IsVisible="{Binding IsWelcomeVisible}" />
            
            <!--Descripción-->
            <StackPanel DockPanel.Dock="Top" Orientation="Vertical" HorizontalAlignment="Center" Spacing="10">
                <StackPanel Opacity="0.7"  IsVisible="{Binding IsWelcomeVisible}">
                    <TextBlock FontSize="15" Margin="30,5,0,0" HorizontalAlignment="Left">
                    <Run FontWeight="Normal" Text="VManager es un kit de herramientas multifunción potente y sencillo de utilizar" />
                    </TextBlock>
                    <TextBlock FontSize="15" Margin="30,5,0,0" HorizontalAlignment="Left">
                        <Run FontWeight="Normal" Text="que te permite cortar, comprimir y convertir formatos de vídeo." />
                    </TextBlock>
                </StackPanel>
            </StackPanel>
            
            <!-- Atajos -->
            <StackPanel DockPanel.Dock="Top" MinWidth="400" HorizontalAlignment="Center" Opacity="0.75" IsVisible="{Binding IsWelcomeVisible}">
                <TextBlock Text="Lista de Atajos:" FontWeight="SemiBold" FontSize="20" Margin="0,30,0,0" HorizontalAlignment="Center" />
                <TextBlock FontSize="15" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <Run FontWeight="Bold" Text="• Botones F1/F2/F3:" />
                    <Run Text=" Intercambian entre herramientas" />
                </TextBlock>
                <TextBlock FontSize="15" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <Run FontWeight="Bold" Text="• Botón F5:" />
                    <Run Text=" Refrescar pantalla" />
                </TextBlock>
                <TextBlock FontSize="15" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <Run FontWeight="Bold" Text="• E:" />
                    <Run Text=" Buscar vídeo" />
                </TextBlock>
                <TextBlock FontSize="15" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <Run FontWeight="Bold" Text="• T:" />
                    <Run Text=" Cambiar tema oscuro/claro" />
                </TextBlock>
                <TextBlock FontSize="15" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <Run FontWeight="Bold" Text="• Enter:" />
                    <Run Text=" Comenzar" />
                </TextBlock>
                <TextBlock FontSize="15" Margin="0,5,0,0" HorizontalAlignment="Center">
                    <Run FontWeight="Bold" Text="• ESC:" />
                    <Run Text=" Cancelar" />
                </TextBlock>
            </StackPanel>
            
            <Border DockPanel.Dock="Top" Margin="0,30,0,0" 
            IsVisible="{Binding IsWelcomeVisible}"
            BorderBrush="{DynamicResource BorderBrushPrimary}" 
            BorderThickness="2" 
            CornerRadius="10" 
            Padding="20 20 20 0" 
            Background="{DynamicResource PanelBackgroundBrush}"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            ClipToBounds="True"
            MaxWidth="800">
                <WrapPanel Orientation="Horizontal" Margin="0,0,0,20" HorizontalAlignment="Center">
                    <!-- Herramientas -->
                    <StackPanel IsVisible="{Binding IsWelcomeVisible}" MaxWidth="350">
                        <TextBlock Text="¿Qué ofrece este programa?" 
                                   FontWeight="SemiBold" 
                                   FontSize="15" 
                                   Margin="0,0,0,20" 
                                   HorizontalAlignment="Center" 
                                   TextWrapping="Wrap" />
                        <TextBlock FontSize="13" Margin="30,7,0,0" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run FontWeight="Bold" Text="• VCUT:" />
                            <Run Text=" recorta rápidamente videos." />
                        </TextBlock>
                        <TextBlock FontSize="13" Margin="30,7,0,0" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run FontWeight="Bold" Text="• VCOMPR:" />
                            <Run Text=" comprime videos, priorizando tu GPU." />
                        </TextBlock>
                        <TextBlock FontSize="13" Margin="30,7,0,0" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run FontWeight="Bold" Text="• VCONV:" />
                            <Run Text=" convierte entre distintos formatos de video (ej. MKV -> MP4)" />
                        </TextBlock>
                        <TextBlock FontSize="13" Margin="30,9,0,30" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run Text="• Y próximamente más!" />
                            <Run Text=" (extracción de audio, compresión de audio, etc)" />
                        </TextBlock>
                    </StackPanel>
                    <!-- Como usar -->
                    <StackPanel IsVisible="{Binding IsWelcomeVisible}" MaxWidth="350">
                        <TextBlock Text="¿Cómo lo uso?" 
                                   FontWeight="SemiBold" 
                                   FontSize="15" 
                                   Margin="0,0,0,20" 
                                   HorizontalAlignment="Center" 
                                   TextWrapping="Wrap" />
                        <TextBlock FontSize="13" Margin="30,5,0,0" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run FontWeight="Bold" Text="1)" />
                            <Run Text="Selecciona una de las herramientas arriba a la izquierda utilizando el mouse o el atajo de teclado." />
                        </TextBlock>
                        <TextBlock FontSize="13" Margin="30,5,0,0" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run FontWeight="Bold" Text="2)" />
                            <Run Text="Arrastra el vídeo al recuadro o selecciona el video con el botón 'Examinar'" />
                        </TextBlock>
                        <TextBlock FontSize="13" Margin="30,5,0,30" HorizontalAlignment="Left" TextWrapping="Wrap">
                            <Run FontWeight="Bold" Text="3)" />
                            <Run Text="¡Procesa el video con el botón y listo!" />
                        </TextBlock>
                    </StackPanel>
                </WrapPanel>
            </Border>
            
            <!-- Bottom -->
            <TextBlock DockPanel.Dock="Bottom" Text="así que si te gustaría contribuir al proyecto puedes darle al botón de abajo." 
                       FontSize="15" Margin="0,5,0,0"
                       HorizontalAlignment="Center"
                       IsVisible="{Binding IsWelcomeVisible}" />
            <TextBlock DockPanel.Dock="Bottom" Text="Este proyecto es mantenido por una única persona, " 
                       FontSize="15" Margin="0,20,0,0"
                       HorizontalAlignment="Center"
                       IsVisible="{Binding IsWelcomeVisible}" />
            
            
            <ContentControl x:Name="ContentArea" Content="{Binding CurrentView}" Background="Transparent"/>
        </DockPanel>
        
        <views:DimOverlay />
    </Grid>
    
    </Window>